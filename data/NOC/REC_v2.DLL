
CREATE TABLE HRIS_REC_OPENINGS
(   
    "OPENING_ID" DECIMAL(7,0),
	"OPENING_NO" VARCHAR(25),
    "VACANCY_TOTAL_NO" NUMBER(7,0),   -- Total vacancy Number
	"START_DATE" DATE NOT NULL ,
	"END_DATE" DATE  NOT NULL ,
	"EXTENDED_DATE" DATE ,
	"INSTRUCTION_EDESC" VARCHAR(5000),
	"INSTRUCTION_NDESC" VARCHAR(5000),
	"STATUS" CHAR(1) DEFAULT 'E',
	"CREATED_BY" DECIMAL(7,0) ,
	"CREATED_DT" DATE ,
	"MODIFIED_BY" DECIMAL(7,0) DEFAULT NULL,
	"MODIFIED_DT" DATE DEFAULT NULL,
	"CHECKED_BY" DECIMAL(7,0) DEFAULT NULL,
	"CHECKED_DT" DATE DEFAULT NULL,
	"APPROVED_BY" DECIMAL(7,0) DEFAULT NULL,
	"APPROVED_DT" DATE DEFAULT NULL ,
	"DELETED_BY" DECIMAL(7,0) DEFAULT NULL ,
	"DELETED_DT" DATE DEFAULT NULL
);   
CREATE TABLE HRIS_REC_VACANCY
(
    VACANCY_ID NUMBER(7,0)  PRIMARY KEY,
    VACANCY_NO NUMBER (7,0) NOT NULL,
    OPENING_ID NUMBER(7,0) NOT NULL,  --FK
    LEVEL_ID NUMBER(7,0), --FK
    SERVICE_TYPES_ID NUMBER(7,0),  --FK
    SERVICE_EVENTS_ID NUMBER(7,0),  --FK
    POSITION_ID NUMBER(7,0),  --FK HRIS_DESIGNATIONS (DESIGNATION_ID)
    QUALIFICATION_ID NUMBER(7,0),
    EXPERIENCE VARCHAR(255),
    SKILL_ID VARCHAR(255),
    DEPARTMENT_ID NUMBER(7,0) NOT NULL,  --FK
    REMARK VARCHAR(1500),
    STATUS CHAR(1) DEFAULT 'E',
    CREATED_BY  NUMBER(7,0),
    CREATED_DT DATE,
    MODIFIED_BY NUMBER(7,0) DEFAULT NULL,
    MODIFIED_DT DATE DEFAULT NULL,
    DELETED_BY NUMBER(7,0) DEFAULT NULL,
    DELETED_DT DATE DEFAULT NULL
);
-- alter table hris_rec_vacancy add (SKILL_ID VARCHAR(255));
-- alter table hris_rec_vacancy add (INCLUSION_ID VARCHAR(255));
CREATE TABLE HRIS_REC_AD_DETAILS
(
    AD_NO_ID NUMBER(7,0)  PRIMARY KEY,
    VACANCY_ID NUMBER(7,0),
    AD_NO VARCHAR(20) NOT NULL,
    INCLUSION_ID NUMBER(7,0) NOT NULL,
    RESERVATION_NO NUMBER (7,0) NOT NULL,
    STATUS CHAR(1) DEFAULT 'E',
    CREATED_BY  NUMBER(7,0),
    CREATED_DT DATE,
    MODIFIED_BY NUMBER(7,0) DEFAULT NULL,
    MODIFIED_DT DATE DEFAULT NULL,
    DELETED_BY NUMBER(7,0) DEFAULT NULL,
    DELETED_DT DATE DEFAULT NULL
);

-- Updated:

CREATE TABLE HRIS_REC_VACANCY
(
    VACANCY_ID NUMBER(7,0)  PRIMARY KEY,
    VACANCY_NO NUMBER (7,0) NOT NULL,
    VACANCY_TYPE CHAR(8) DEFAULT 'OPEN',
    OPENING_ID NUMBER(7,0) NOT NULL,  --FK
    LEVEL_ID NUMBER(7,0), --FK
    SERVICE_TYPES_ID NUMBER(7,0),  --FK
    SERVICE_EVENTS_ID NUMBER(7,0),  --FK  
    POSITION_ID NUMBER(7,0),  --FK HRIS_DESIGNATIONS (DESIGNATION_ID)
    AD_NO VARCHAR(20),
    VACANCY_RESERVATION_NO NUMBER (7,0) NOT NULL,
    QUALIFICATION_ID NUMBER(7,0),
    EXPERIENCE VARCHAR(255),
    DEPARTMENT_ID NUMBER(7,0) NOT NULL,  --FK
    REMARK NVARCHAR(1500),
    STATUS CHAR(1) DEFAULT 'E',
    CREATED_BY  NUMBER(7,0),
    CREATED_DT DATE,
    MODIFIED_BY NUMBER(7,0) DEFAULT NULL,
    MODIFIED_DT DATE DEFAULT NULL,    
    DELETED_BY NUMBER(7,0) DEFAULT NULL,
    DELETED_DT DATE DEFAULT NULL
);
-- Add Skill table
CREATE TABLE HRIS_REC_SKILL
(
    SKILL_ID NUMBER(7,0)  PRIMARY KEY,
    SKILL_NAME VARCHAR(50) NOT NULL,
    SKILL_CODE VARCHAR(10),
    REQUIRED_FLAG CHAR(1) DEFAULT 'N',
    UPLOAD_FLAG CHAR(1) DEFAULT 'N',
    STATUS CHAR(1) DEFAULT 'E',
    CREATED_BY  NUMBER(7,0),
    CREATED_DT DATE,
    MODIFIED_BY NUMBER(7,0) DEFAULT NULL,
    MODIFIED_DT DATE DEFAULT NULL,    
    DELETED_BY NUMBER(7,0) DEFAULT NULL,
    DELETED_DT DATE DEFAULT NULL
);
CREATE TABLE HRIS_REC_VACANCY_SKILLS
(
    VACANCY_SKILL_ID NUMBER(7,0)  PRIMARY KEY,
    SKILL_ID VARCHAR(50) NOT NULL,
    VACANCY_ID NUMBER(10,0) NOT NULL,  -- FK
    STATUS CHAR(1) DEFAULT 'E',
    CREATED_BY  NUMBER(7,0),
    CREATED_DT DATE,
    MODIFIED_BY NUMBER(7,0) DEFAULT NULL,
    MODIFIED_DT DATE DEFAULT NULL,    
    DELETED_BY NUMBER(7,0) DEFAULT NULL,
    DELETED_DT DATE DEFAULT NULL
);

-- truncate
truncate table hris_rec_vacancy;
truncate table hris_rec_vacancy_inclusion;

-- UPDATE
update HRIS_ACADEMIC_DEGREES set ACADEMIC_DEGREE_CODE =  '1' where ACADEMIC_DEGREE_ID = 4;
update HRIS_ACADEMIC_DEGREES set ACADEMIC_DEGREE_CODE =  '2' where ACADEMIC_DEGREE_ID = 7;
update HRIS_ACADEMIC_DEGREES set ACADEMIC_DEGREE_CODE =  '3' where ACADEMIC_DEGREE_ID = 6;
update HRIS_ACADEMIC_DEGREES set ACADEMIC_DEGREE_CODE =  '4' where ACADEMIC_DEGREE_ID = 5;
update HRIS_ACADEMIC_DEGREES set ACADEMIC_DEGREE_CODE =  '5' where ACADEMIC_DEGREE_ID = 3;
update HRIS_ACADEMIC_DEGREES set ACADEMIC_DEGREE_CODE =  '6' where ACADEMIC_DEGREE_ID = 8;
